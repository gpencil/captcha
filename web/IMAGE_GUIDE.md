# å›¾ç‰‡é€‰æ‹©éªŒè¯ç  - çœŸå®å›¾ç‰‡ä½¿ç”¨æŒ‡å—

## ğŸ“ ç›®å½•ç»“æ„

åœ¨ captcha-web é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä»¥ä¸‹ç›®å½•ç»“æ„ï¼š

```
captcha-web/
â””â”€â”€ images/
    â””â”€â”€ traffic/
        â”œâ”€â”€ bus/          # å…¬äº¤è½¦å›¾ç‰‡
        â”‚   â”œâ”€â”€ bus_1.jpg
        â”‚   â”œâ”€â”€ bus_2.jpg
        â”‚   â””â”€â”€ bus_3.jpg
        â”œâ”€â”€ car/          # æ±½è½¦å›¾ç‰‡
        â”‚   â”œâ”€â”€ car_1.jpg
        â”‚   â”œâ”€â”€ car_2.jpg
        â”‚   â””â”€â”€ car_3.jpg
        â”œâ”€â”€ bike/         # è‡ªè¡Œè½¦å›¾ç‰‡
        â”‚   â”œâ”€â”€ bike_1.jpg
        â”‚   â”œâ”€â”€ bike_2.jpg
        â”‚   â””â”€â”€ bike_3.jpg
        â””â”€â”€ light/        # çº¢ç»¿ç¯å›¾ç‰‡
            â”œâ”€â”€ light_1.jpg
            â”œâ”€â”€ light_2.jpg
            â””â”€â”€ light_3.jpg
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šè¿è¡Œè„šæœ¬åˆ›å»ºç›®å½•

```bash
cd /Users/pencil/code/src/yusheng/go-common/captcha-web
chmod +x generate_test_images.sh
./generate_test_images.sh
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨åˆ›å»ºç›®å½•

```bash
cd /Users/pencil/code/src/yusheng/go-common/captcha-web
mkdir -p images/traffic/bus
mkdir -p images/traffic/car
mkdir -p images/traffic/bike
mkdir -p images/traffic/light
```

## ğŸ“¥ è·å–å›¾ç‰‡

### é€‰é¡¹ 1ï¼šä½¿ç”¨ AI ç”Ÿæˆå›¾ç‰‡

æ¨èä½¿ç”¨ AI å·¥å…·ç”Ÿæˆç®€å•çš„å›¾æ ‡é£æ ¼å›¾ç‰‡ï¼š

1. **DALL-E** (OpenAI)
   - æç¤ºè¯: "Simple icon of a bus, flat design, white background, 200x150px"

2. **Midjourney**
   - æç¤ºè¯: "Bus icon, minimalist style, white background"

3. **Stable Diffusion**
   - ä½¿ç”¨ç®€å•å›¾æ ‡é£æ ¼çš„æç¤ºè¯

### é€‰é¡¹ 2ï¼šä¸‹è½½å…è´¹å›¾æ ‡ç½‘ç«™

- **Flaticon** (https://www.flaticon.com)
- **Icons8** (https://icons8.com)
- **Iconfinder** (https://www.iconfinder.com)

æœç´¢å…³é”®è¯ï¼šbus, car, bicycle, traffic light

### é€‰é¡¹ 3ï¼šè‡ªå·±ç»˜åˆ¶

ä½¿ç”¨ç”»å›¾å·¥å…·ï¼ˆPhotoshopã€GIMPã€Figmaç­‰ï¼‰åˆ›å»ºç®€å•çš„å›¾æ ‡

## ğŸ“‹ å›¾ç‰‡è¦æ±‚

### æ ¼å¼è¦æ±‚
- âœ… æ”¯æŒæ ¼å¼ï¼š`.jpg`, `.jpeg`, `.png`
- âœ… æ¨èå°ºå¯¸ï¼š200x150 åƒç´ ï¼ˆæˆ–æ¥è¿‘æ­¤æ¯”ä¾‹ï¼‰
- âœ… èƒŒæ™¯ï¼šç™½è‰²æˆ–é€æ˜

### å†…å®¹è¦æ±‚
- æ¸…æ™°å¯è¯†åˆ«çš„ç‰©ä½“
- ç®€æ´çš„å›¾æ ‡é£æ ¼
- é¿å…è¿‡äºå¤æ‚çš„ç»†èŠ‚

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶

`main.go` ä¸­çš„é…ç½®ï¼š

```go
captcha.ImageSelectConfig{
    ImageCount:  4,
    SelectCount: 1,
    ExpireTime:  5 * time.Minute,
    Category:    "traffic",
    ImageDir:    "./images/traffic",  // å›¾ç‰‡æ ¹ç›®å½•
},
```

### å·¥ä½œåŸç†

1. **è‡ªåŠ¨åŠ è½½**ï¼šç¨‹åºä¼šè‡ªåŠ¨ä»ä»¥ä¸‹ç›®å½•åŠ è½½å›¾ç‰‡ï¼š
   - `./images/traffic/bus/` - å…¬äº¤è½¦
   - `./images/traffic/car/` - æ±½è½¦
   - `./images/traffic/bike/` - è‡ªè¡Œè½¦
   - `./images/traffic/light/` - çº¢ç»¿ç¯

2. **éšæœºé€‰æ‹©**ï¼šæ¯ä¸ªç›®å½•éšæœºé€‰æ‹©ä¸€å¼ å›¾ç‰‡

3. **å›é€€æœºåˆ¶**ï¼šå¦‚æœæ²¡æœ‰çœŸå®å›¾ç‰‡ï¼Œè‡ªåŠ¨ä½¿ç”¨ç¨‹åºç”Ÿæˆçš„å ä½å›¾ç‰‡

## ğŸ“ æ·»åŠ å›¾ç‰‡çš„æ­¥éª¤

### 1. åˆ›å»ºç›®å½•

```bash
mkdir -p images/traffic/bus
```

### 2. æ·»åŠ å›¾ç‰‡æ–‡ä»¶

```bash
# å°†å›¾ç‰‡æ–‡ä»¶å¤åˆ¶åˆ°å¯¹åº”ç›®å½•
cp ~/Downloads/bus_1.jpg images/traffic/bus/
cp ~/Downloads/bus_2.jpg images/traffic/bus/
```

### 3. éªŒè¯å›¾ç‰‡

```bash
# æŸ¥çœ‹ç›®å½•ä¸­çš„å›¾ç‰‡
ls -l images/traffic/bus/

# åº”è¯¥çœ‹åˆ°ï¼š
# bus_1.jpg
# bus_2.jpg
# ...
```

## ğŸ”„ è¿è¡Œæµ‹è¯•

### å¯åŠ¨æœåŠ¡

```bash
cd /Users/pencil/code/src/yusheng/go-common/captcha-web
./captcha-web-server
```

### æµ‹è¯•éªŒè¯

1. è®¿é—® http://localhost:8083
2. ç‚¹å‡»"å›¾ç‰‡é€‰æ‹©"æŒ‰é’®
3. ç”ŸæˆéªŒè¯ç 

### å¯èƒ½çš„æƒ…å†µ

**æƒ…å†µ 1ï¼šæˆåŠŸåŠ è½½çœŸå®å›¾ç‰‡**
- âœ… æ˜¾ç¤ºçœŸå®çš„å›¾ç‰‡
- âœ… å›¾ç‰‡æ¸…æ™°å¯è¯†åˆ«

**æƒ…å†µ 2ï¼šä½¿ç”¨å ä½å›¾ç‰‡**
- âš ï¸ ç¨‹åºä¼šè¾“å‡ºæ—¥å¿—ï¼š"æœªæ‰¾åˆ°çœŸå®å›¾ç‰‡ï¼Œä½¿ç”¨å ä½å›¾ç‰‡"
- ğŸ’¡ è¯´æ˜å›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨æˆ–è·¯å¾„ä¸æ­£ç¡®
- è§£å†³ï¼šæ£€æŸ¥å›¾ç‰‡ç›®å½•å’Œæ–‡ä»¶

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šå›¾ç‰‡æ²¡æœ‰åŠ è½½

**æ£€æŸ¥æ—¥å¿—**ï¼š
```bash
# æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º
# å¦‚æœçœ‹åˆ°ï¼š"è¯»å–ç›®å½•å¤±è´¥: xxx"
# è¯´æ˜ç›®å½•ä¸å­˜åœ¨
```

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨
ls -la images/traffic/

# ç¡®ä¿æ¯ä¸ªå­ç›®å½•éƒ½æœ‰å›¾ç‰‡
ls images/traffic/bus/
ls images/traffic/car/
ls images/traffic/bike/
ls images/traffic/light/
```

### é—®é¢˜ 2ï¼šå›¾ç‰‡æ ¼å¼ä¸æ”¯æŒ

**æ£€æŸ¥æ–‡ä»¶æ‰©å±•å**ï¼š
```bash
# åªæ”¯æŒè¿™äº›æ ¼å¼
file bus_1.jpg  # åº”è¯¥æ˜¾ç¤º: JPEG image data
file car_1.png  # åº”è¯¥æ˜¾ç¤º: PNG image data
```

**è§£å†³**ï¼šå°†å›¾ç‰‡è½¬æ¢ä¸ºæ”¯æŒçš„æ ¼å¼

### é—®é¢˜ 3ï¼šå›¾ç‰‡æ˜¾ç¤ºå¼‚å¸¸

**å¯èƒ½åŸå› **ï¼š
- å›¾ç‰‡æ–‡ä»¶æŸå
- å›¾ç‰‡æ ¼å¼ä¸æ ‡å‡†
- å›¾ç‰‡å°ºå¯¸è¿‡å¤§

**è§£å†³**ï¼šä½¿ç”¨å›¾ç‰‡ç¼–è¾‘å·¥å…·é‡æ–°ä¿å­˜ä¸ºæ ‡å‡†æ ¼å¼

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å›¾ç‰‡å‘½å

ä½¿ç”¨æ¸…æ™°çš„å‘½åè§„åˆ™ï¼š
```
bus_1.jpg, bus_2.jpg, bus_3.jpg
car_1.jpg, car_2.jpg, car_3.jpg
bike_1.jpg, bike_2.jpg, bike_3.jpg
light_1.jpg, light_2.jpg, light_3.jpg
```

### 2. å›¾ç‰‡æ•°é‡

- æ¯ä¸ªç›®å½•è‡³å°‘ 2-3 å¼ å›¾ç‰‡
- å»ºè®®æ¯ä¸ªç›®å½• 3-5 å¼ ï¼Œå¢åŠ éšæœºæ€§

### 3. å›¾ç‰‡è´¨é‡

- æ–‡ä»¶å¤§å°ï¼šå»ºè®®æ¯å¼  10-50KB
- åˆ†è¾¨ç‡ï¼š200x150 æˆ–æ¥è¿‘æ­¤æ¯”ä¾‹
- æ ¼å¼ï¼šJPGï¼ˆç…§ç‰‡ï¼‰æˆ– PNGï¼ˆå›¾æ ‡ï¼‰

### 4. å¤‡ä»½å›¾ç‰‡

- ä¿ç•™åŸå§‹å›¾ç‰‡æ–‡ä»¶
- å®šæœŸæ£€æŸ¥å›¾ç‰‡å®Œæ•´æ€§

## ğŸ“Š å¯¹æ¯”ï¼šçœŸå®å›¾ç‰‡ vs å ä½å›¾ç‰‡

| ç‰¹æ€§ | çœŸå®å›¾ç‰‡ | å ä½å›¾ç‰‡ |
|------|---------|---------|
| è§†è§‰æ•ˆæœ | â­â­â­â­â­ | â­â­ |
| ç”¨æˆ·ä½“éªŒ | â­â­â­â­â­ | â­â­ |
| å®‰å…¨æ€§ | â­â­â­â­ | â­â­â­ |
| å®ç°éš¾åº¦ | éœ€è¦å‡†å¤‡å›¾ç‰‡ | æ— éœ€å‡†å¤‡ |
| ç»´æŠ¤æˆæœ¬ | éœ€è¦ç®¡ç†å›¾ç‰‡æ–‡ä»¶ | æ— éœ€ç»´æŠ¤ |

## ğŸ¯ ç”Ÿäº§ç¯å¢ƒå»ºè®®

ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼š
1. âœ… ä½¿ç”¨çœŸå®å›¾ç‰‡
2. âœ… ä½¿ç”¨ CDN åŠ é€Ÿå›¾ç‰‡è®¿é—®
3. âœ… å®šæœŸæ›´æ–°å›¾ç‰‡åº“
4. âœ… ä» OSSï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰åŠ è½½å›¾ç‰‡
5. âœ… å›¾ç‰‡å‹ç¼©ä¼˜åŒ–

å¼€å‘/æµ‹è¯•ç¯å¢ƒï¼š
- å¯ä»¥ä½¿ç”¨å ä½å›¾ç‰‡å¿«é€Ÿæµ‹è¯•åŠŸèƒ½

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—è¾“å‡ºè·å–è¯¦ç»†ä¿¡æ¯ã€‚
